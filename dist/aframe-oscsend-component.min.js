!function(s){function e(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return s[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var t={};e.m=s,e.c=t,e.d=function(s,t,i){e.o(s,t)||Object.defineProperty(s,t,{configurable:!1,enumerable:!0,get:i})},e.n=function(s){var t=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(t,"a",t),t},e.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)},e.p="",e(e.s=0)}([function(s,e,t){"use strict";var i=window.OSC;if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("oscsend",{schema:{serverURL:{default:"localhost"},serverPort:{default:8080},useWss:{default:!1},messagePath:{default:""}},multiple:!0,initOscListeners:function(){this.osc.on("open",function(){console.log("osc connection open")}),this.osc.on("close",function(){console.log("osc connection closed")}),this.osc.on("error",function(s){console.log("osc error",s)})},messages:{positionMessage:new i.Message(["{replaceme}","position"]),rotationMessage:new i.Message(["{replaceme}","rotation"])},initReusedMessages:function(){for(var s in this.messages)this.messages[s].address=this.messages[s].address.replace("{replaceme}",this.data.messagePath||""),this.messages[s].types="fff",this.messages[s].args.push(0,0,0)},init:function(){this.initReusedMessages=AFRAME.utils.bind(this.initReusedMessages,this),this.updateMessageArgs=AFRAME.utils.bind(this.updateMessageArgs,this),this.initOscListeners=AFRAME.utils.bind(this.initOscListeners,this),this.initOscListeners(),this.initReusedMessages(),this.osc.open({host:this.data.serverURL,port:this.data.serverPort})},osc:new i({plugin:new i.WebsocketBrowserPlugin({secure:!0})}),update:function(s){},remove:function(){osc.close()},pause:function(){},play:function(){},tick:function(){if(this.osc.status()===i.STATUS.IS_OPEN){var s=this.el;this.updateMessageArgs(this.messages.rotationMessage,s.getAttribute("rotation")),this.updateMessageArgs(this.messages.positionMessage,s.getAttribute("position")),this.osc.send(this.messages.rotationMessage),this.osc.send(this.messages.positionMessage)}},updateMessageArgs:function(s,e){s.args[0]=e.x,s.args[1]=e.y,s.args[2]=e.z}})}]);